---
phase: 21-chart-tooltip-simplification
plan: 01
type: execute
depends_on: []
files_modified: [src/services/charts.ts]
---

<objective>
Simplify chart tooltips to show only value with unit (e.g., "10 lbs", "5 sets").

Purpose: Cleaner, less cluttered tooltip that shows essential information at a glance.
Output: Chart tooltips display simplified format instead of full dataset label + value.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@src/services/charts.ts

**Current tooltip behavior:**
- Shows dataset label ("Exercise Name - Metric Type") as title
- Shows raw value without unit context
- Uses Chart.js default formatting

**Target tooltip behavior:**
- Show only value with appropriate unit
- "10 lbs" for max_volume_set metric
- "5 sets" for total_sets metric
- No title, no extra information
</context>

<tasks>

<task type="auto">
  <name>Task 1: Customize Chart.js tooltip callbacks</name>
  <files>src/services/charts.ts</files>
  <action>
Modify the tooltip configuration in renderChart function (around line 298-306) to use custom callbacks:

1. Add `callbacks` object to tooltip options with:
   - `title: () => ''` - Return empty array to hide tooltip title
   - `label: (context) => { ... }` - Format value with unit based on metricType

2. In the label callback:
   - Get the raw value from context.parsed.y
   - Check metricType from options parameter
   - For 'max_volume_set': return `${value} lbs`
   - For 'total_sets': return `${value} sets`
   - Default: return value as string

3. Ensure metricType is accessible in the callback - may need to store in chart options or use closure.

Keep existing tooltip styling (backgroundColor, colors, border, padding, displayColors: false).
  </action>
  <verify>npm run build completes without errors</verify>
  <done>Chart tooltips show simplified format: "10 lbs" or "5 sets" without title line</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Simplified chart tooltips showing only value with unit</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:5173
    3. Log in and navigate to dashboard
    4. Hover over a chart data point
    5. Confirm tooltip shows only value with unit (e.g., "10 lbs" or "5 sets")
    6. Confirm no title line appears in tooltip
    7. Confirm tooltip styling (dark background, white text, blue border) is preserved
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] Tooltip shows only value with unit
- [ ] No tooltip title displayed
- [ ] Styling preserved (dark theme, blue accent)
</verification>

<success_criteria>

- Chart tooltips simplified to show only value with unit
- Both metric types display correctly (lbs for max_volume_set, sets for total_sets)
- Tooltip styling unchanged
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/21-chart-tooltip-simplification/21-01-SUMMARY.md`
</output>
