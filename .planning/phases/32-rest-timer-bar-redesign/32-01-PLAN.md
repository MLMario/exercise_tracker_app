---
phase: 32-rest-timer-bar-redesign
plan: 01
type: execute
depends_on: []
files_modified: [apps/web/src/surfaces/workout/RestTimerBar.tsx, apps/web/css/styles.css]
---

<objective>
Redesign RestTimerBar from vertical stacked layout to horizontal inline layout per mockup.

Purpose: Match mockup's compact horizontal timer design with all elements inline.
Output: RestTimerBar with single-row flex layout: [-10s] [bar] [time] [+10s]
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/31-exercise-card-accordion/31-01-SUMMARY.md

# Source files
@apps/web/src/surfaces/workout/RestTimerBar.tsx
@apps/web/css/styles.css

**From ROADMAP Phase 32 details:**
- Single-row flex layout with all elements inline
- Slim 8px bar height (down from 28px)
- Gradient fill: linear-gradient(90deg, accent, #67e8f9)
- Time display as separate element (not overlaid)
- Keep border-top separation from set table
- Adapt button styling to existing patterns
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update RestTimerBar JSX to horizontal inline layout</name>
  <files>apps/web/src/surfaces/workout/RestTimerBar.tsx</files>
  <action>
Restructure JSX from vertical to horizontal inline layout:

Current structure:
```
container
  wrapper (bar + time overlay)
  controls (buttons below)
```

New structure:
```
container (flex row)
  button -10s
  bar-wrapper (flex 1, slim bar)
  time-display (separate element)
  button +10s
```

Changes:
1. Move -10s button BEFORE bar wrapper
2. Remove time span from INSIDE bar wrapper
3. Add new separate time-display span AFTER bar wrapper
4. Move +10s button AFTER time display
5. Remove rest-timer-controls div (buttons now inline)
6. Update class names:
   - rest-timer-bar-container → rest-timer-inline (new horizontal layout)
   - rest-timer-bar-wrapper → rest-timer-bar (just the bar)
   - rest-timer-bar-time → rest-timer-time (standalone element)
   - btn-timer-adjust stays the same
  </action>
  <verify>TypeScript compiles without errors: cd apps/web && pnpm run build</verify>
  <done>RestTimerBar renders with horizontal layout: -10s button, progress bar, time display, +10s button all in single row</done>
</task>

<task type="auto">
  <name>Task 2: Update CSS for horizontal inline layout</name>
  <files>apps/web/css/styles.css</files>
  <action>
Replace rest timer CSS block (lines ~1869-1958) with horizontal layout styles:

1. .rest-timer-inline:
   - display: flex
   - align-items: center
   - gap: var(--spacing-sm) (8px between elements)
   - margin-top: var(--spacing-sm)
   - padding-top: var(--spacing-sm)
   - border-top: 1px solid var(--color-border) (keep separator)

2. .rest-timer-bar:
   - flex: 1 (take available space)
   - height: 8px (slim bar, down from 28px)
   - background-color: var(--color-bg-secondary)
   - border-radius: 4px (rounded for slim bar)
   - overflow: hidden
   - position: relative

3. .rest-timer-bar-fill:
   - position: absolute
   - top: 0, left: 0, height: 100%
   - background: linear-gradient(90deg, var(--color-accent), #67e8f9) (gradient fill)
   - border-radius: 4px
   - transition: width 1s linear
   - Keep .idle, .running, .complete states for background variations

4. .rest-timer-time:
   - font-size: 0.875rem
   - font-weight: 600
   - color: white
   - min-width: 48px (consistent width for time)
   - text-align: center

5. .btn-timer-adjust:
   - Keep existing styling but ensure compact for inline
   - padding: 4px 8px (slightly smaller for inline)
   - font-size: 0.75rem

6. Update mobile media query (@media max-width: 400px):
   - .rest-timer-bar height: 6px (even slimmer on mobile)
   - .rest-timer-time font-size: 0.75rem
   - .btn-timer-adjust padding: 3px 6px

Remove obsolete classes:
- .rest-timer-bar-container (replaced by .rest-timer-inline)
- .rest-timer-bar-wrapper (replaced by .rest-timer-bar)
- .rest-timer-controls (buttons now inline)
  </action>
  <verify>Visual inspection: npm run dev, start workout, check timer bar is horizontal</verify>
  <done>Timer bar displays as single horizontal row with gradient bar, inline buttons, and separate time display</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Horizontal inline rest timer bar layout</what-built>
  <how-to-verify>
    1. Run: cd apps/web && npm run dev
    2. Login and start a workout from any template
    3. Expand an exercise card
    4. Verify timer bar layout:
       - Single horizontal row: [-10s] [gradient bar] [0:00] [+10s]
       - Bar is slim (8px height)
       - Gradient fill: blue to cyan
       - Time is NOT overlaid on bar (separate element)
    5. Test timer functionality:
       - Tap set checkbox to complete → timer starts counting down
       - Bar shrinks from right to left
       - -10s and +10s buttons adjust time
    6. Test on narrow viewport (375px width):
       - Layout remains horizontal
       - Elements don't wrap or overflow
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `cd apps/web && pnpm run build` succeeds without errors
- [ ] Timer bar displays in horizontal inline layout
- [ ] Gradient fill animates smoothly during countdown
- [ ] All timer functionality preserved (countdown, adjust buttons)
- [ ] Layout works on mobile viewport widths
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- RestTimerBar matches mockup's horizontal inline layout
- Phase 32 complete
  </success_criteria>

<output>
After completion, create `.planning/phases/32-rest-timer-bar-redesign/32-01-SUMMARY.md`
</output>
