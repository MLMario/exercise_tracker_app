---
phase: 38-header-button-refinements
plan: 01
type: execute
depends_on: []
files_modified: [apps/web/src/surfaces/template-editor/TemplateEditorSurface.tsx, apps/web/css/styles.css]
---

<objective>
Match TemplateEditorSurface header to WorkoutSurface pattern with btn-sm buttons and header-info wrapper.

Purpose: Consistent header styling across workout-related surfaces
Output: TemplateEditorSurface with matching header layout to WorkoutSurface
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@apps/web/src/surfaces/template-editor/TemplateEditorSurface.tsx
@apps/web/src/surfaces/workout/WorkoutSurface.tsx
@apps/web/css/styles.css
@mockups/mock-2-dense-grid.html

**Pattern Reference (WorkoutSurface header, lines 835-854):**
```tsx
<header class="app-header workout-header">
  <button type="button" class="btn btn-secondary btn-sm" onClick={handleCancelWorkout}>
    Cancel
  </button>
  <div class="workout-info">
    <h1 class="app-title">{activeWorkout.template_name}</h1>
    <p class="workout-time">{formatWorkoutDate(activeWorkout.started_at)}</p>
  </div>
  <button type="button" class="btn btn-primary btn-sm" onClick={handleFinishWorkout}>
    Finish
  </button>
</header>
```

**Current TemplateEditorSurface header (lines 431-452):**
- Missing `btn-sm` on Cancel/Save buttons
- Missing wrapper div around title (no centering container)

**CSS already has:**
- `.btn-sm` at line 487
- `.workout-header .workout-info` at line 244 (but scoped to `.workout-header`)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add header-info CSS class for template editor</name>
  <files>apps/web/css/styles.css</files>
  <action>Add `.header-info` class after the existing `.workout-header .workout-info` styles (around line 257). The class should provide the same centering behavior but be reusable across surfaces:

```css
/* Shared header info container (title centering) */
.header-info {
  flex: 1;
  text-align: center;
  min-width: 0; /* Allow text-overflow to work on child elements */
}

.header-info .app-title {
  font-size: 1.125rem;
  margin: 0;
}
```

This creates a reusable `.header-info` class that matches the WorkoutSurface's `.workout-info` pattern but without surface-specific scoping.</action>
  <verify>Grep for "header-info" in styles.css shows the new class exists</verify>
  <done>`.header-info` class exists in styles.css with flex: 1, text-align: center, and min-width: 0</done>
</task>

<task type="auto">
  <name>Task 2: Update TemplateEditorSurface header to match WorkoutSurface</name>
  <files>apps/web/src/surfaces/template-editor/TemplateEditorSurface.tsx</files>
  <action>Update the header section (lines 431-452) to:
1. Add `btn-sm` class to Cancel button: `class="btn btn-secondary btn-sm"`
2. Add `btn-sm` class to Save button: `class="btn btn-primary btn-sm"`
3. Wrap the h1 title in a `header-info` div for proper centering

Updated header structure:
```tsx
<header class="app-header">
  <button
    type="button"
    class="btn btn-secondary btn-sm"
    onClick={handleCancel}
    disabled={isSubmitting}
  >
    Cancel
  </button>
  <div class="header-info">
    <h1 class="app-title">
      {isEditing ? 'Edit Template' : 'New Template'}
    </h1>
  </div>
  <button
    type="button"
    class="btn btn-primary btn-sm"
    onClick={handleSave}
    disabled={!canSave || isSubmitting}
  >
    {isSubmitting ? 'Saving...' : 'Save'}
  </button>
</header>
```

Note: Do NOT change `class=` to `className=` - this is Preact and uses the HTML attribute syntax.</action>
  <verify>Build passes with `pnpm run build --filter @ironlift/web`</verify>
  <done>TemplateEditorSurface header has btn-sm on both buttons and header-info wrapper around title</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `pnpm run build --filter @ironlift/web` succeeds without errors
- [ ] Grep shows `.header-info` class in styles.css
- [ ] TemplateEditorSurface.tsx has `btn-sm` on Cancel and Save buttons
- [ ] TemplateEditorSurface.tsx has `header-info` div wrapper around title
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Header buttons are smaller (36px vs 44px height)
- Title is properly centered between buttons
</success_criteria>

<output>
After completion, create `.planning/phases/38-header-button-refinements/38-01-SUMMARY.md`
</output>
