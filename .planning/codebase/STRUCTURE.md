# Codebase Structure

**Analysis Date:** 2026-01-12

## Directory Layout

```
exercise_tracker_app/
├── .claude/            # Claude Code configuration
├── .planning/          # Project planning documents
│   └── codebase/      # Codebase analysis (this folder)
├── assets/            # Static assets (images, icons)
├── css/               # Stylesheets
├── docs/              # Documentation files
├── js/                # JavaScript modules
├── screenshots/       # App screenshots
├── sql/               # Database migration scripts
├── index.html         # Main entry point
├── current_state.md   # Project status document
└── .gitignore         # Git ignore rules
```

## Directory Purposes

**js/**
- Purpose: All JavaScript application code
- Contains: Service modules, Alpine component
- Key files:
  - `app.js` - Main Alpine.js component (1400+ lines)
  - `auth.js` - Authentication functions
  - `exercises.js` - Exercise CRUD operations
  - `templates.js` - Template CRUD operations
  - `logging.js` - Workout logging and metrics
  - `charts.js` - Chart CRUD and Chart.js rendering
  - `timer.js` - Rest timer functionality
  - `supabase.js` - Supabase client initialization
  - `config.local.js` - Credentials (gitignored)

**css/**
- Purpose: Application styles
- Contains: CSS files
- Key files:
  - `styles.css` - All app styles (dark mode, mobile-first)

**sql/**
- Purpose: Database schema migrations
- Contains: SQL migration scripts
- Key files:
  - `migration_per_set_tracking.sql` - Per-set tracking schema
  - `migration_schema_cleanup.sql` - Schema cleanup
  - `migration_template_sets.sql` - Template sets schema

**assets/**
- Purpose: Static assets
- Contains: Images, icons

**screenshots/**
- Purpose: App screenshots for documentation
- Contains: PNG screenshots

**docs/**
- Purpose: Documentation files
- Contains: Markdown documentation

## Key File Locations

**Entry Points:**
- `index.html` - HTML entry, Alpine templates, script loading

**Configuration:**
- `js/config.local.js` - Supabase credentials (gitignored)
- `js/supabase.js` - Supabase client setup
- `.gitignore` - Ignored files

**Core Logic:**
- `js/app.js` - Main Alpine component, all UI logic
- `js/auth.js` - Authentication service
- `js/templates.js` - Workout templates service
- `js/logging.js` - Workout logging service
- `js/charts.js` - Charts service and rendering

**Styling:**
- `css/styles.css` - All CSS (CSS custom properties, mobile-first)

**Testing:**
- No test directory or files

**Documentation:**
- `current_state.md` - Project status
- `docs/` - Additional documentation

## Naming Conventions

**Files:**
- kebab-case for JS modules (auth.js, supabase.js)
- lowercase for config files (config.local.js)
- lowercase for directories

**Directories:**
- Lowercase, singular or plural based on content
- `js/` for JavaScript, `css/` for styles

**Special Patterns:**
- `*.local.js` - Local config files (gitignored)
- No index.js barrel files (direct imports via window namespace)

## Where to Add New Code

**New Feature:**
- Primary code: `js/` directory as new module
- Styles: `css/styles.css` (single file)
- UI: `index.html` (Alpine templates)

**New Service Module:**
- Implementation: `js/{feature}.js`
- Export to: `window.{feature}` namespace
- Include in: `index.html` script tags (before app.js)

**New UI Surface:**
- Template: Add `x-show` section in `index.html`
- Logic: Add to `fitnessApp` component in `js/app.js`
- Navigation: Add to `currentSurface` state

**Database Changes:**
- Schema: New migration in `sql/` directory
- Apply: Run manually in Supabase SQL editor

**Utilities:**
- Shared helpers: Add to `js/app.js` or create new utility module

## Special Directories

**.planning/**
- Purpose: Project planning and codebase documentation
- Source: Generated by GSD workflow
- Committed: Yes

**sql/**
- Purpose: Database migrations (applied manually)
- Source: Hand-written SQL
- Committed: Yes

---

*Structure analysis: 2026-01-12*
*Update when directory structure changes*
