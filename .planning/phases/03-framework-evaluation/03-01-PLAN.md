---
phase: 03-framework-evaluation
plan: 01
type: execute
depends_on: []
files_modified: [.planning/phases/03-framework-evaluation/03-EVALUATION.md]
---

<objective>
Evaluate UI framework options and select the best fit for migrating from Alpine.js.

Purpose: Make an informed framework decision before investing in surface migrations. The current Alpine.js monolith (1422 lines in app.js, 160+ template directives) needs a clear migration target.

Output: 03-EVALUATION.md with analysis and framework recommendation, followed by user decision.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/ARCHITECTURE.md
@.planning/codebase/STACK.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/CONCERNS.md
@.planning/phases/01-foundation/01-02-SUMMARY.md
@.planning/phases/02-type-system/02-02-SUMMARY.md

**Tech stack available:** Vite, TypeScript, ESM modules
**Established patterns:** src/ as TypeScript root, barrel exports via @/types
**Current Alpine.js usage:**
- 1422-line monolithic component (js/app.js)
- 160+ Alpine directives in index.html (x-show, x-for, @click, x-model, etc.)
- 4 surfaces: auth, dashboard, workout, templateEditor
- Service modules via window.* namespace
</context>

<tasks>

<task type="auto">
  <name>Task 1: Analyze current Alpine.js patterns</name>
  <files>.planning/phases/03-framework-evaluation/03-EVALUATION.md</files>
  <action>
Analyze js/app.js and index.html to document:

1. **Reactive state inventory:**
   - Count all reactive properties in fitnessApp
   - Categorize by surface (auth, dashboard, workout, templateEditor)
   - Note computed/derived values

2. **Template directive usage:**
   - Count x-show, x-if, x-for, x-text, x-model, @click/@submit usage
   - Identify complex conditional rendering patterns
   - Note any x-ref or $refs usage

3. **Alpine-specific features used:**
   - x-data initialization pattern
   - Alpine.data() registration
   - Magic properties ($el, $refs, $watch)
   - x-transition usage
   - x-cloak usage

4. **Migration complexity areas:**
   - Multi-tab sync (localStorage + storage event)
   - Chart.js integration (chartInstances object)
   - Workout state backup/restore
   - Timer state management

Write findings to section "## Current Alpine.js Analysis" in 03-EVALUATION.md.
  </action>
  <verify>03-EVALUATION.md exists with "## Current Alpine.js Analysis" section containing state inventory and directive counts</verify>
  <done>Alpine.js usage documented with counts and complexity areas identified</done>
</task>

<task type="auto">
  <name>Task 2: Research and compare framework candidates</name>
  <files>.planning/phases/03-framework-evaluation/03-EVALUATION.md</files>
  <action>
Research each candidate framework and document in 03-EVALUATION.md:

**Candidates:**
1. **Keep Alpine.js** - Refactor within current framework
2. **Vue 3** - Composition API with SFC
3. **Preact** - Lightweight React alternative
4. **Solid.js** - Fine-grained reactivity (bonus option)

**Evaluate each on:**

| Criterion | Weight | Why It Matters |
|-----------|--------|----------------|
| Migration effort from Alpine.js | High | Existing patterns must translate |
| Bundle size | Medium | Current CDN approach is lightweight |
| TypeScript support | High | Project is migrating to TypeScript |
| Vite integration | High | Already using Vite |
| Learning curve | Low | Solo developer, can learn |
| Ecosystem/community | Medium | Need components, tooling |
| Surface-based architecture fit | High | Must support modular UI structure |

**For each framework, document:**
- Bundle size (production, gzipped)
- TypeScript setup requirements
- How current Alpine patterns would translate
- Vite plugin/integration
- Strengths and weaknesses for THIS project

Write to section "## Framework Comparison" with a summary table.
  </action>
  <verify>03-EVALUATION.md contains "## Framework Comparison" with table comparing all candidates on all criteria</verify>
  <done>All framework candidates evaluated with pros/cons documented</done>
</task>

<task type="auto">
  <name>Task 3: Create migration path analysis</name>
  <files>.planning/phases/03-framework-evaluation/03-EVALUATION.md</files>
  <action>
For the top 2-3 candidates, analyze concrete migration paths:

**For each viable candidate:**
1. How would auth surface migrate? (forms, validation, state)
2. How would workout surface migrate? (timer, sets, gestures)
3. How would dashboard surface migrate? (lists, charts)
4. What patterns need complete rewrites vs adaptation?

**Document:**
- Estimated migration complexity (Low/Medium/High per surface)
- What can be incrementally migrated vs needs full rewrite
- Risk assessment (what could go wrong?)

Write to section "## Migration Analysis" with per-surface breakdown.

**Then write recommendation:**
Based on analysis, write "## Recommendation" section with:
- Recommended framework choice
- Key reasons (2-3 bullets)
- Migration approach (incremental vs full rewrite)
- Risks to monitor
  </action>
  <verify>03-EVALUATION.md contains "## Migration Analysis" and "## Recommendation" sections</verify>
  <done>Migration paths documented with clear recommendation</done>
</task>

<task type="checkpoint:decision" gate="blocking">
  <decision>Select UI framework for surface migrations</decision>
  <context>
The 03-EVALUATION.md document contains analysis of current Alpine.js usage and comparison of framework alternatives. This decision affects all surface phases (6-11) and the overall refactor approach.

Review the recommendation and select which framework to use for the refactor.
  </context>
  <options>
    <option id="alpine">
      <name>Keep Alpine.js</name>
      <pros>No migration overhead, familiar patterns, proven working</pros>
      <cons>Limited TypeScript support, monolith harder to modularize</cons>
    </option>
    <option id="vue">
      <name>Vue 3 + Composition API</name>
      <pros>Excellent TypeScript support, SFC for clean modules, reactive system similar to Alpine</pros>
      <cons>Larger bundle, learning curve, full rewrite needed</cons>
    </option>
    <option id="preact">
      <name>Preact</name>
      <pros>Tiny bundle (~3KB), React ecosystem compatible, good TypeScript</pros>
      <cons>JSX different from template syntax, hooks vs reactive data</cons>
    </option>
    <option id="solid">
      <name>Solid.js</name>
      <pros>Fine-grained reactivity like Alpine, tiny bundle, excellent performance</pros>
      <cons>Smaller ecosystem, different mental model from React</cons>
    </option>
  </options>
  <resume-signal>Select: alpine, vue, preact, or solid</resume-signal>
</task>

<task type="auto">
  <name>Task 5: Record decision and update project state</name>
  <files>.planning/STATE.md, .planning/PROJECT.md</files>
  <action>
After user selects framework:

1. **Update 03-EVALUATION.md:**
   - Add "## Decision" section with selected framework and rationale
   - Record date and any conditions/concerns noted

2. **Update PROJECT.md:**
   - Update "Evaluate UI frameworks" row in Key Decisions table with outcome
   - Update Active requirements if needed

3. **Update STATE.md:**
   - Add framework decision to Accumulated Context > Decisions
   - Update Current Position to Phase 3 complete
  </action>
  <verify>STATE.md contains framework decision in Decisions section, PROJECT.md Key Decisions table updated</verify>
  <done>Framework decision recorded in all relevant project documents</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] 03-EVALUATION.md exists with all sections (Analysis, Comparison, Migration, Recommendation, Decision)
- [ ] Framework decision checkpoint completed with user selection
- [ ] STATE.md updated with decision
- [ ] PROJECT.md Key Decisions table updated
</verification>

<success_criteria>

- 03-EVALUATION.md documents current Alpine.js usage patterns
- Framework candidates compared on relevant criteria
- Migration paths analyzed for top candidates
- User has selected a framework
- Decision recorded in project state
- Phase 3 complete
</success_criteria>

<output>
After completion, create `.planning/phases/03-framework-evaluation/03-01-SUMMARY.md`:

# Phase 3: Framework Evaluation - Plan 01 Summary

**[Framework selected: {choice} - {brief rationale}]**

## Accomplishments
- Analyzed current Alpine.js patterns (X reactive properties, Y directives)
- Compared N framework candidates
- Migration paths documented
- Framework decision made: {choice}

## Files Created/Modified
- `.planning/phases/03-framework-evaluation/03-EVALUATION.md` - Full analysis document
- `.planning/STATE.md` - Decision recorded
- `.planning/PROJECT.md` - Key Decisions updated

## Decisions Made
- Framework: {choice} selected because {reasons}

## Issues Encountered
[Any concerns or caveats noted]

## Next Phase Readiness
- Framework selected, ready for Phase 4: Auth Service
- Surface phases (6-11) will use selected framework
</output>
