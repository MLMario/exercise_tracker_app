---
phase: 18-exercise-list
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/surfaces/dashboard/MyExercisesList.tsx
  - apps/web/src/surfaces/dashboard/SettingsPanel.tsx
  - apps/web/css/styles.css

autonomous: true

must_haves:
  truths:
    - "My Exercises view shows only user-created exercises (system exercises excluded), sorted alphabetically"
    - "When no custom exercises exist, an empty state message with a create button placeholder is displayed"
    - "User can navigate back from My Exercises to the Settings menu"
  artifacts:
    - path: "apps/web/src/surfaces/dashboard/MyExercisesList.tsx"
      provides: "Exercise list component with data fetching, list rendering, and empty state"
      exports: ["MyExercisesList"]
    - path: "apps/web/src/surfaces/dashboard/SettingsPanel.tsx"
      provides: "Integration of MyExercisesList replacing placeholder div"
      contains: "MyExercisesList"
    - path: "apps/web/css/styles.css"
      provides: "CSS classes for my-exercises-list, my-exercises-row, my-exercises-empty, my-exercises-loading"
      contains: ".my-exercises-list"
  key_links:
    - from: "apps/web/src/surfaces/dashboard/MyExercisesList.tsx"
      to: "exercises.getUserExercises()"
      via: "useEffect fetch on mount"
      pattern: "exercises\\.getUserExercises"
    - from: "apps/web/src/surfaces/dashboard/SettingsPanel.tsx"
      to: "apps/web/src/surfaces/dashboard/MyExercisesList.tsx"
      via: "import and render in panelView === 'exercises' conditional"
      pattern: "MyExercisesList"
    - from: "apps/web/src/surfaces/dashboard/MyExercisesList.tsx"
      to: "apps/web/css/styles.css"
      via: "CSS class references for row layout and empty state"
      pattern: "my-exercises-row|exercise-item-info"
---

<objective>
Create the My Exercises list view inside the Settings panel, showing user-created exercises in an alphabetically sorted list with an empty state when no custom exercises exist.

Purpose: Users need to see their custom exercises in a dedicated management view before edit/delete/create features are added in later phases.
Output: A working MyExercisesList component integrated into SettingsPanel, replacing the placeholder div.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-exercise-list/18-CONTEXT.md
@.planning/phases/18-exercise-list/18-RESEARCH.md
@apps/web/src/surfaces/dashboard/SettingsPanel.tsx
@apps/web/css/styles.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MyExercisesList component and CSS</name>
  <files>
    apps/web/src/surfaces/dashboard/MyExercisesList.tsx
    apps/web/css/styles.css
  </files>
  <action>
Create `apps/web/src/surfaces/dashboard/MyExercisesList.tsx`:

- Import `useState`, `useEffect` from `preact/hooks`
- Import `Exercise` type from `@ironlift/shared`
- Import `exercises` service from `@ironlift/shared`
- State: `userExercises: Exercise[]` (default []), `isLoading: boolean` (default true), `error: string` (default '')
- useEffect on mount: call `exercises.getUserExercises()`, set state accordingly. This service already filters to user-created exercises only (is_system=false) and sorts A-Z.
- Loading state: render `<div class="my-exercises-loading">Loading exercises...</div>`
- Error state: render `<div class="error-message">{error}</div>`
- Empty state (userExercises.length === 0): render a `<div class="my-exercises-empty">` containing:
  - `<p class="my-exercises-empty-text">You haven't created any custom exercises yet.</p>`
  - `<button type="button" class="btn btn-primary">Create Exercise</button>` -- NO onClick handler. This button is a placeholder for Phase 21.
- List state: render `<div class="my-exercises-list">` containing a map over userExercises, each as:
  ```
  <div key={exercise.id} class="my-exercises-row">
    <div class="exercise-item-info">
      <span class="exercise-item-name">{exercise.name}</span>
      <span class="exercise-item-category">{exercise.category}</span>
    </div>
  </div>
  ```
- Reuse existing `.exercise-item-info`, `.exercise-item-name`, `.exercise-item-category` CSS classes for the inner layout (already styled at 15px bold name, 12px muted gray category)
- Export the component as a named export: `export function MyExercisesList()`

IMPORTANT constraints from CONTEXT.md:
- Rows are NOT tappable (no onClick, no cursor:pointer) -- Phase 19 adds expand-to-edit
- Create button has NO onClick -- Phase 21 wires it up
- No search/filter controls -- deferred to v2
- Do NOT use `.exercise-list-item` class (it has cursor:pointer and hover effects for clickable items)
- Do NOT use `useAsyncOperation` hook -- simple useState is sufficient for a mount-fetch

Add CSS to `apps/web/css/styles.css` near the end of the settings panel section (after existing settings-panel styles, around line 2960+):

```css
/* My Exercises List */
.my-exercises-list {
  display: flex;
  flex-direction: column;
}

.my-exercises-row {
  display: flex;
  align-items: center;
  padding: var(--spacing-sm) var(--spacing-md);
}

.my-exercises-empty {
  text-align: center;
  padding: var(--spacing-2xl) var(--spacing-md);
}

.my-exercises-empty-text {
  color: var(--color-text-muted);
  font-size: 1rem;
  margin-bottom: var(--spacing-lg);
}

.my-exercises-loading {
  text-align: center;
  padding: var(--spacing-xl);
  color: var(--color-text-muted);
}
```
  </action>
  <verify>
TypeScript compiles: run `npx tsc --noEmit` from the project root (or the appropriate build command). The new component should have zero type errors.
  </verify>
  <done>
MyExercisesList.tsx exists with data fetching via getUserExercises(), list rendering with exercise-item-info/name/category classes, empty state with non-functional create button, loading state, and error state. CSS classes for my-exercises-list, my-exercises-row, my-exercises-empty, my-exercises-empty-text, and my-exercises-loading are in styles.css.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate MyExercisesList into SettingsPanel</name>
  <files>
    apps/web/src/surfaces/dashboard/SettingsPanel.tsx
  </files>
  <action>
Modify `apps/web/src/surfaces/dashboard/SettingsPanel.tsx`:

1. Add import at top: `import { MyExercisesList } from './MyExercisesList';`

2. Replace the placeholder block (lines 77-80):
   ```tsx
   {panelView === 'exercises' && (
     <div class="my-exercises-placeholder">
       My Exercises content coming soon
     </div>
   )}
   ```
   With:
   ```tsx
   {panelView === 'exercises' && (
     <MyExercisesList />
   )}
   ```

That's it. The SettingsPanel already handles:
- Header title switching ("Settings" vs "My Exercises") on line 46
- Back button navigation (exercises -> menu) in handleBack on lines 34-39
- Panel view reset on close via the useEffect on lines 27-31

No other changes needed to SettingsPanel.
  </action>
  <verify>
TypeScript compiles: run `npx tsc --noEmit`. Verify the placeholder text "My Exercises content coming soon" no longer appears in SettingsPanel.tsx.
  </verify>
  <done>
SettingsPanel renders MyExercisesList when panelView is 'exercises'. The placeholder div is completely removed. Back navigation from My Exercises to Settings menu works via existing handleBack function.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with zero errors
2. SettingsPanel.tsx imports and renders MyExercisesList (no placeholder div remains)
3. MyExercisesList.tsx calls `exercises.getUserExercises()` (not getExercises or any query that would include system exercises)
4. MyExercisesList.tsx does NOT have onClick handlers on exercise rows
5. MyExercisesList.tsx has a create button with NO onClick handler
6. No search inputs or filter dropdowns exist in MyExercisesList.tsx
7. CSS classes `.my-exercises-row` do NOT include `cursor: pointer`
</verification>

<success_criteria>
- LIST-01: My Exercises view renders user-created exercises only (via getUserExercises which filters is_system=false), sorted alphabetically
- LIST-04: Empty state shows message "You haven't created any custom exercises yet." with a Create Exercise button placeholder
- LIST-05: Back navigation from My Exercises to Settings menu works (already implemented by SettingsPanel handleBack -- this plan ensures the placeholder is replaced so the real view renders)
</success_criteria>

<output>
After completion, create `.planning/phases/18-exercise-list/18-01-SUMMARY.md`
</output>
