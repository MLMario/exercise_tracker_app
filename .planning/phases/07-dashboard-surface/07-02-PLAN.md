---
phase: 07-dashboard-surface
plan: 02
type: execute
depends_on: ["07-01"]
files_modified: [src/surfaces/dashboard/TemplateList.tsx, src/surfaces/dashboard/TemplateCard.tsx, src/surfaces/dashboard/DashboardSurface.tsx]
---

<objective>
Create template list components with navigation to template editor and workout surfaces.

Purpose: Display user's workout templates with edit, delete, and start workout actions.
Output: TemplateList and TemplateCard components integrated into DashboardSurface.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan output:
@.planning/phases/07-dashboard-surface/07-01-SUMMARY.md

# Source patterns:
@src/surfaces/auth/LoginForm.tsx
@src/surfaces/dashboard/DashboardSurface.tsx

# Existing app.js template methods (lines 443-536, 694-730):
# - createNewTemplate(), editTemplate(template), saveTemplate(), deleteTemplate(id)
# - cancelTemplateEdit(), startWorkoutFromTemplate(template)
@js/app.js

# Template type:
@src/types/domain.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TemplateList and TemplateCard components</name>
  <files>src/surfaces/dashboard/TemplateList.tsx, src/surfaces/dashboard/TemplateCard.tsx</files>
  <action>
**Create TemplateCard.tsx:**

Props interface (TemplateCardProps):
- template: Template
- onEdit: (template: Template) => void
- onDelete: (id: string) => void
- onStartWorkout: (template: Template) => void

Render (matching index.html template card structure):
- Template name as title
- Exercise count display (template.exercises.length)
- Action buttons row:
  - Edit button (pencil icon or text)
  - Delete button (trash icon or text)
  - Start Workout button (play icon or "Start")

**Create TemplateList.tsx:**

Props interface (TemplateListProps):
- templates: Template[]
- onCreateNew: () => void
- onEdit: (template: Template) => void
- onDelete: (id: string) => void
- onStartWorkout: (template: Template) => void

Render:
- Section header "My Templates" with "New Template" button
- Empty state message when templates.length === 0
- Map templates to TemplateCard components
- Pass all callbacks down to cards

**Pattern notes:**
- Controlled components - all state managed by parent (DashboardSurface)
- Use class names matching existing CSS in css/styles.css
- Keep components presentational only
  </action>
  <verify>npx tsc --noEmit passes, both component files exist with proper props interfaces</verify>
  <done>TemplateList.tsx and TemplateCard.tsx exist with full props and render logic</done>
</task>

<task type="auto">
  <name>Task 2: Integrate template components and implement actions</name>
  <files>src/surfaces/dashboard/DashboardSurface.tsx</files>
  <action>
**Add action handlers to DashboardSurface:**

1. **handleCreateNewTemplate():**
   - For now, log "Navigate to template editor (new)"
   - Will be wired to surface navigation later
   - Matches js/app.js lines 444-453

2. **handleEditTemplate(template: Template):**
   - For now, log "Navigate to template editor (edit)" with template.id
   - Will be wired to surface navigation later
   - Matches js/app.js lines 455-467

3. **handleDeleteTemplate(id: string):**
   - Confirm with window.confirm()
   - Call window.templates.deleteTemplate(id)
   - Reload templates on success
   - Set error on failure
   - Matches js/app.js lines 511-527

4. **handleStartWorkout(template: Template):**
   - For now, log "Navigate to workout surface" with template.id
   - Will be wired to surface navigation later
   - Matches js/app.js lines 695-730

**Update render:**
- Import TemplateList component
- Replace template section placeholder with TemplateList
- Pass templates array and all handlers as props
- Add loading state handling (show loading indicator while isLoading)

**Pattern notes:**
- Confirm before delete (window.confirm for now, modal later)
- Reload templates after successful delete
- Surface navigation will be implemented in Phase 12
  </action>
  <verify>npm run build succeeds, template list renders with action handlers working</verify>
  <done>TemplateList integrated into DashboardSurface, delete works, navigation handlers logged</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npx tsc --noEmit` passes
- [ ] TemplateList.tsx exists with proper props interface
- [ ] TemplateCard.tsx exists with proper props interface
- [ ] DashboardSurface renders TemplateList with templates data
- [ ] Delete template action works (confirm + service call + reload)
- [ ] Edit/create/start workout handlers log navigation intent
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Template list displays and actions work
</success_criteria>

<output>
After completion, create `.planning/phases/07-dashboard-surface/07-02-SUMMARY.md`
</output>
